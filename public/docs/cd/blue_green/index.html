<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="ğŸŸ¦ğŸŸ© äº‘åŸç”Ÿ Blue/Green å‘å¸ƒå®æˆ˜ï¼šArgo CD &#43; Argo Rollouts# Blue/Green å‘å¸ƒæ˜¯ä¸€ç§ä½é£é™©çš„å‘å¸ƒç­–ç•¥ï¼Œé€šè¿‡ç»´æŠ¤ä¸¤å¥—ç¯å¢ƒï¼ˆBlue å’Œ Greenï¼‰ï¼Œåœ¨æ–°ç‰ˆæœ¬å‘å¸ƒæ—¶åˆ‡æ¢æµé‡åˆ°æ–°ç¯å¢ƒï¼Œå®ç°å¹³æ»‘åˆ‡æ¢å’Œå¿«é€Ÿå›æ»šã€‚
ğŸ§© 1. æŠ€æœ¯æ ˆè¯´æ˜# ç»„ä»¶ ä½œç”¨ è¯´æ˜ Argo CD GitOps CD å¹³å° è‡ªåŠ¨åŒæ­¥ Kubernetes èµ„æºä¸ Git ä»“åº“ï¼Œå®ç°å£°æ˜å¼éƒ¨ç½² Argo Rollouts å‘å¸ƒæ§åˆ¶å™¨ æä¾› Blue/Greenã€Canary ç­‰é«˜çº§å‘å¸ƒç­–ç•¥ï¼Œå¹¶æ”¯æŒæŒ‡æ ‡åˆ†æä¸è‡ªåŠ¨å›æ»š Service / Ingress æµé‡æ§åˆ¶ Kubernetes Service æˆ– Ingress å®ç°æµé‡åˆ‡æ¢ Prometheus / Metrics æŒ‡æ ‡ç›‘æ§ å¯ç”¨äºè‡ªåŠ¨åˆ¤æ–­æ–°ç‰ˆæœ¬å¥åº·å¹¶è§¦å‘åˆ‡æ¢ ğŸ” 2. åŸºæœ¬åŸç†# Blue/Green ç¯å¢ƒï¼š Blueï¼šå½“å‰ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬ Greenï¼šæ–°ç‰ˆæœ¬ç¯å¢ƒï¼Œå‡†å¤‡ä¸Šçº¿ æµé‡åˆ‡æ¢ï¼š Service æŒ‡å‘ Blue ç¯å¢ƒ Rollout åˆ›å»º Green Pod åï¼Œé€šè¿‡ Service å°†æµé‡åˆ‡æ¢åˆ° Green å›æ»šï¼š å¦‚æœ Green å‡ºç°é—®é¢˜ï¼ŒService å¯ä»¥å¿«é€Ÿåˆ‡å› Blue Argo CDï¼š GitOps åŒæ­¥ Blue/Green Rollout çš„ Manifestï¼Œå®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œç‰ˆæœ¬ç®¡ç† ğŸ—ºï¸ 2.1 Devflow Blue/Green å‘å¸ƒæµç¨‹å›¾ï¼ˆç¤ºä¾‹ï¼‰# flowchart LR A[Devflow Console] --&gt; B[Devflow Job] B --&gt; C[Argo CD Application] C --&gt; D[Argo Devflow Plugin] D --&gt; E[Argo Rollouts Rollout] C --&gt; CS[Application Synced] CS --&gt; R0[Resources Applied] C -.-&gt; F[Devflow Controller] E -.-&gt; F F --&gt; M[(MongoDB)] F --&gt;|update steps and job status| M subgraph Blue_Green_Steps S0[Applied] --&gt; S1[Preview Ready] S1 --&gt; S2[Verify] S2 --&gt; S3[Promote Switch] S3 --&gt; S4[Post Verify] S4 --&gt; S5[Completed] S2 -. Failed .-&gt; SF[Failed] S4 -. Failed .-&gt; SF SF --&gt; RB[Rollback to Stable] end E --&gt; S0è¯´æ˜ï¼š
">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/docs/cd/blue_green/">
  <meta property="og:site_name" content="Devflow">
  <meta property="og:title" content="Blue-green">
  <meta property="og:description" content="ğŸŸ¦ğŸŸ© äº‘åŸç”Ÿ Blue/Green å‘å¸ƒå®æˆ˜ï¼šArgo CD &#43; Argo Rollouts# Blue/Green å‘å¸ƒæ˜¯ä¸€ç§ä½é£é™©çš„å‘å¸ƒç­–ç•¥ï¼Œé€šè¿‡ç»´æŠ¤ä¸¤å¥—ç¯å¢ƒï¼ˆBlue å’Œ Greenï¼‰ï¼Œåœ¨æ–°ç‰ˆæœ¬å‘å¸ƒæ—¶åˆ‡æ¢æµé‡åˆ°æ–°ç¯å¢ƒï¼Œå®ç°å¹³æ»‘åˆ‡æ¢å’Œå¿«é€Ÿå›æ»šã€‚
ğŸ§© 1. æŠ€æœ¯æ ˆè¯´æ˜# ç»„ä»¶ ä½œç”¨ è¯´æ˜ Argo CD GitOps CD å¹³å° è‡ªåŠ¨åŒæ­¥ Kubernetes èµ„æºä¸ Git ä»“åº“ï¼Œå®ç°å£°æ˜å¼éƒ¨ç½² Argo Rollouts å‘å¸ƒæ§åˆ¶å™¨ æä¾› Blue/Greenã€Canary ç­‰é«˜çº§å‘å¸ƒç­–ç•¥ï¼Œå¹¶æ”¯æŒæŒ‡æ ‡åˆ†æä¸è‡ªåŠ¨å›æ»š Service / Ingress æµé‡æ§åˆ¶ Kubernetes Service æˆ– Ingress å®ç°æµé‡åˆ‡æ¢ Prometheus / Metrics æŒ‡æ ‡ç›‘æ§ å¯ç”¨äºè‡ªåŠ¨åˆ¤æ–­æ–°ç‰ˆæœ¬å¥åº·å¹¶è§¦å‘åˆ‡æ¢ ğŸ” 2. åŸºæœ¬åŸç†# Blue/Green ç¯å¢ƒï¼š Blueï¼šå½“å‰ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬ Greenï¼šæ–°ç‰ˆæœ¬ç¯å¢ƒï¼Œå‡†å¤‡ä¸Šçº¿ æµé‡åˆ‡æ¢ï¼š Service æŒ‡å‘ Blue ç¯å¢ƒ Rollout åˆ›å»º Green Pod åï¼Œé€šè¿‡ Service å°†æµé‡åˆ‡æ¢åˆ° Green å›æ»šï¼š å¦‚æœ Green å‡ºç°é—®é¢˜ï¼ŒService å¯ä»¥å¿«é€Ÿåˆ‡å› Blue Argo CDï¼š GitOps åŒæ­¥ Blue/Green Rollout çš„ Manifestï¼Œå®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œç‰ˆæœ¬ç®¡ç† ğŸ—ºï¸ 2.1 Devflow Blue/Green å‘å¸ƒæµç¨‹å›¾ï¼ˆç¤ºä¾‹ï¼‰# flowchart LR A[Devflow Console] --&gt; B[Devflow Job] B --&gt; C[Argo CD Application] C --&gt; D[Argo Devflow Plugin] D --&gt; E[Argo Rollouts Rollout] C --&gt; CS[Application Synced] CS --&gt; R0[Resources Applied] C -.-&gt; F[Devflow Controller] E -.-&gt; F F --&gt; M[(MongoDB)] F --&gt;|update steps and job status| M subgraph Blue_Green_Steps S0[Applied] --&gt; S1[Preview Ready] S1 --&gt; S2[Verify] S2 --&gt; S3[Promote Switch] S3 --&gt; S4[Post Verify] S4 --&gt; S5[Completed] S2 -. Failed .-&gt; SF[Failed] S4 -. Failed .-&gt; SF SF --&gt; RB[Rollback to Stable] end E --&gt; S0è¯´æ˜ï¼š">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">


  <meta itemprop="name" content="Blue-green">
  <meta itemprop="description" content="ğŸŸ¦ğŸŸ© äº‘åŸç”Ÿ Blue/Green å‘å¸ƒå®æˆ˜ï¼šArgo CD &#43; Argo Rollouts# Blue/Green å‘å¸ƒæ˜¯ä¸€ç§ä½é£é™©çš„å‘å¸ƒç­–ç•¥ï¼Œé€šè¿‡ç»´æŠ¤ä¸¤å¥—ç¯å¢ƒï¼ˆBlue å’Œ Greenï¼‰ï¼Œåœ¨æ–°ç‰ˆæœ¬å‘å¸ƒæ—¶åˆ‡æ¢æµé‡åˆ°æ–°ç¯å¢ƒï¼Œå®ç°å¹³æ»‘åˆ‡æ¢å’Œå¿«é€Ÿå›æ»šã€‚
ğŸ§© 1. æŠ€æœ¯æ ˆè¯´æ˜# ç»„ä»¶ ä½œç”¨ è¯´æ˜ Argo CD GitOps CD å¹³å° è‡ªåŠ¨åŒæ­¥ Kubernetes èµ„æºä¸ Git ä»“åº“ï¼Œå®ç°å£°æ˜å¼éƒ¨ç½² Argo Rollouts å‘å¸ƒæ§åˆ¶å™¨ æä¾› Blue/Greenã€Canary ç­‰é«˜çº§å‘å¸ƒç­–ç•¥ï¼Œå¹¶æ”¯æŒæŒ‡æ ‡åˆ†æä¸è‡ªåŠ¨å›æ»š Service / Ingress æµé‡æ§åˆ¶ Kubernetes Service æˆ– Ingress å®ç°æµé‡åˆ‡æ¢ Prometheus / Metrics æŒ‡æ ‡ç›‘æ§ å¯ç”¨äºè‡ªåŠ¨åˆ¤æ–­æ–°ç‰ˆæœ¬å¥åº·å¹¶è§¦å‘åˆ‡æ¢ ğŸ” 2. åŸºæœ¬åŸç†# Blue/Green ç¯å¢ƒï¼š Blueï¼šå½“å‰ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬ Greenï¼šæ–°ç‰ˆæœ¬ç¯å¢ƒï¼Œå‡†å¤‡ä¸Šçº¿ æµé‡åˆ‡æ¢ï¼š Service æŒ‡å‘ Blue ç¯å¢ƒ Rollout åˆ›å»º Green Pod åï¼Œé€šè¿‡ Service å°†æµé‡åˆ‡æ¢åˆ° Green å›æ»šï¼š å¦‚æœ Green å‡ºç°é—®é¢˜ï¼ŒService å¯ä»¥å¿«é€Ÿåˆ‡å› Blue Argo CDï¼š GitOps åŒæ­¥ Blue/Green Rollout çš„ Manifestï¼Œå®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œç‰ˆæœ¬ç®¡ç† ğŸ—ºï¸ 2.1 Devflow Blue/Green å‘å¸ƒæµç¨‹å›¾ï¼ˆç¤ºä¾‹ï¼‰# flowchart LR A[Devflow Console] --&gt; B[Devflow Job] B --&gt; C[Argo CD Application] C --&gt; D[Argo Devflow Plugin] D --&gt; E[Argo Rollouts Rollout] C --&gt; CS[Application Synced] CS --&gt; R0[Resources Applied] C -.-&gt; F[Devflow Controller] E -.-&gt; F F --&gt; M[(MongoDB)] F --&gt;|update steps and job status| M subgraph Blue_Green_Steps S0[Applied] --&gt; S1[Preview Ready] S1 --&gt; S2[Verify] S2 --&gt; S3[Promote Switch] S3 --&gt; S4[Post Verify] S4 --&gt; S5[Completed] S2 -. Failed .-&gt; SF[Failed] S4 -. Failed .-&gt; SF SF --&gt; RB[Rollback to Stable] end E --&gt; S0è¯´æ˜ï¼š">
  <meta itemprop="wordCount" content="622">

<title>Blue-green | Devflow</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="http://localhost:1313/docs/cd/blue_green/">
<link rel="stylesheet" href="/book.min.6970156cec683193d93c9c4edaf0d56574e4361df2e0c1be4f697ae81c3ba55f.css" integrity="sha256-aXAVbOxoMZPZPJxO2vDVZXTkNh3y4MG&#43;T2l66Bw7pV8=" crossorigin="anonymous">




  
</head>
<body dir="ltr" class="book-kind-page book-type-docs">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    
<aside class="book-menu">
  <div class="book-menu-content">
    
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Devflow</span>
  </a>
</h2>














  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4bd032e4e5fe1323a134583cafeecf06" class="toggle"  />
    <label for="section-4bd032e4e5fe1323a134583cafeecf06" class="flex">
      <a href="/docs/ci/" class="">
        CI</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/ci/queue/" class="">
      Queue</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ci/standard/" class="">
      Standard</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ci/architecture/" class="">
      CI Architecture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ci/component/" class="">
      Components</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0fc280a0e74cc087db99dcd67aadd7bb" class="toggle" checked />
    <label for="section-0fc280a0e74cc087db99dcd67aadd7bb" class="flex">
      <a href="/docs/cd/" class="">
        CD</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/cd/architecture/" class="">
      Architecture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cd/component/" class="">
      Components</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cd/standard/" class="">
      Standard</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cd/blue_green/" class="active">
      Blue-green</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cd/canary/" class="">
      Canary</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cd/normal/" class="">
      Normal (Rolling)</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6884c320646745efe1e09831aa35ad5b" class="toggle"  />
    <label for="section-6884c320646745efe1e09831aa35ad5b" class="flex">
      <a href="/docs/observability/" class="">
        observability</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/observability/component/" class="">
      Component</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/observability/standard/" class="">
      Standard</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/observability/attributes/" class="">
      Attributes</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-97bc183e640cafe9ca9da46d45661ec8" class="toggle"  />
    <label for="section-97bc183e640cafe9ca9da46d45661ec8" class="flex">
      <a href="/docs/devflow-controller/" class="">
        devflow-controller</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/devflow-controller/canary/" class="">
      Canary</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/component/" class="">
      All Components</a>
  

        </li>
      
    
  </ul>













</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>



  </div>
</aside>
 

    <div class="book-page">
      <header class="book-header hidden">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/icons/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Blue-green</h3>

  <label for="toc-control">
    
  </label>
</div>


  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="-äº‘åŸç”Ÿ-bluegreen-å‘å¸ƒå®æˆ˜argo-cd--argo-rollouts">ğŸŸ¦ğŸŸ© äº‘åŸç”Ÿ Blue/Green å‘å¸ƒå®æˆ˜ï¼šArgo CD + Argo Rollouts<a class="anchor" href="#-%e4%ba%91%e5%8e%9f%e7%94%9f-bluegreen-%e5%8f%91%e5%b8%83%e5%ae%9e%e6%88%98argo-cd--argo-rollouts">#</a></h1>
<p>Blue/Green å‘å¸ƒæ˜¯ä¸€ç§ä½é£é™©çš„å‘å¸ƒç­–ç•¥ï¼Œé€šè¿‡ç»´æŠ¤ä¸¤å¥—ç¯å¢ƒï¼ˆBlue å’Œ Greenï¼‰ï¼Œåœ¨æ–°ç‰ˆæœ¬å‘å¸ƒæ—¶åˆ‡æ¢æµé‡åˆ°æ–°ç¯å¢ƒï¼Œå®ç°å¹³æ»‘åˆ‡æ¢å’Œå¿«é€Ÿå›æ»šã€‚</p>
<hr>
<h2 id="-1-æŠ€æœ¯æ ˆè¯´æ˜">ğŸ§© 1. æŠ€æœ¯æ ˆè¯´æ˜<a class="anchor" href="#-1-%e6%8a%80%e6%9c%af%e6%a0%88%e8%af%b4%e6%98%8e">#</a></h2>
<table>
  <thead>
      <tr>
          <th>ç»„ä»¶</th>
          <th>ä½œç”¨</th>
          <th>è¯´æ˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Argo CD</strong></td>
          <td>GitOps CD å¹³å°</td>
          <td>è‡ªåŠ¨åŒæ­¥ Kubernetes èµ„æºä¸ Git ä»“åº“ï¼Œå®ç°å£°æ˜å¼éƒ¨ç½²</td>
      </tr>
      <tr>
          <td><strong>Argo Rollouts</strong></td>
          <td>å‘å¸ƒæ§åˆ¶å™¨</td>
          <td>æä¾› Blue/Greenã€Canary ç­‰é«˜çº§å‘å¸ƒç­–ç•¥ï¼Œå¹¶æ”¯æŒæŒ‡æ ‡åˆ†æä¸è‡ªåŠ¨å›æ»š</td>
      </tr>
      <tr>
          <td><strong>Service / Ingress</strong></td>
          <td>æµé‡æ§åˆ¶</td>
          <td>Kubernetes Service æˆ– Ingress å®ç°æµé‡åˆ‡æ¢</td>
      </tr>
      <tr>
          <td><strong>Prometheus / Metrics</strong></td>
          <td>æŒ‡æ ‡ç›‘æ§</td>
          <td>å¯ç”¨äºè‡ªåŠ¨åˆ¤æ–­æ–°ç‰ˆæœ¬å¥åº·å¹¶è§¦å‘åˆ‡æ¢</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-2-åŸºæœ¬åŸç†">ğŸ” 2. åŸºæœ¬åŸç†<a class="anchor" href="#-2-%e5%9f%ba%e6%9c%ac%e5%8e%9f%e7%90%86">#</a></h2>
<ol>
<li><strong>Blue/Green ç¯å¢ƒ</strong>ï¼š
<ul>
<li><strong>Blue</strong>ï¼šå½“å‰ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬</li>
<li><strong>Green</strong>ï¼šæ–°ç‰ˆæœ¬ç¯å¢ƒï¼Œå‡†å¤‡ä¸Šçº¿</li>
</ul>
</li>
<li><strong>æµé‡åˆ‡æ¢</strong>ï¼š
<ul>
<li>Service æŒ‡å‘ Blue ç¯å¢ƒ</li>
<li>Rollout åˆ›å»º Green Pod åï¼Œé€šè¿‡ Service å°†æµé‡åˆ‡æ¢åˆ° Green</li>
</ul>
</li>
<li><strong>å›æ»š</strong>ï¼š
<ul>
<li>å¦‚æœ Green å‡ºç°é—®é¢˜ï¼ŒService å¯ä»¥å¿«é€Ÿåˆ‡å› Blue</li>
</ul>
</li>
<li><strong>Argo CD</strong>ï¼š
<ul>
<li>GitOps åŒæ­¥ Blue/Green Rollout çš„ Manifestï¼Œå®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œç‰ˆæœ¬ç®¡ç†</li>
</ul>
</li>
</ol>
<hr>
<h2 id="-21-devflow-bluegreen-å‘å¸ƒæµç¨‹å›¾ç¤ºä¾‹">ğŸ—ºï¸ 2.1 Devflow Blue/Green å‘å¸ƒæµç¨‹å›¾ï¼ˆç¤ºä¾‹ï¼‰<a class="anchor" href="#-21-devflow-bluegreen-%e5%8f%91%e5%b8%83%e6%b5%81%e7%a8%8b%e5%9b%be%e7%a4%ba%e4%be%8b">#</a></h2>
<pre class="mermaid">flowchart LR
    A[Devflow Console] --&gt; B[Devflow Job]
    B --&gt; C[Argo CD Application]
    C --&gt; D[Argo Devflow Plugin]
    D --&gt; E[Argo Rollouts Rollout]

    C --&gt; CS[Application Synced]
    CS --&gt; R0[Resources Applied]

    C -.-&gt; F[Devflow Controller]
    E -.-&gt; F
    F --&gt; M[(MongoDB)]
    F --&gt;|update steps and job status| M

    subgraph Blue_Green_Steps
        S0[Applied] --&gt; S1[Preview Ready]
        S1 --&gt; S2[Verify]
        S2 --&gt; S3[Promote Switch]
        S3 --&gt; S4[Post Verify]
        S4 --&gt; S5[Completed]
        S2 -. Failed .-&gt; SF[Failed]
        S4 -. Failed .-&gt; SF
        SF --&gt; RB[Rollback to Stable]
    end
    E --&gt; S0</pre><script src="/mermaid.min.js"></script><script>mermaid.initialize({"flowchart":{"useMaxWidth":true},"theme":"default"})</script><p>è¯´æ˜ï¼š</p>
<ul>
<li>å‘å¸ƒé“¾è·¯ï¼šDevflow Console è§¦å‘ Jobï¼Œç”Ÿæˆ Argo CD Applicationï¼Œç»æ’ä»¶ä¸‹å‘ Blue/Green Rolloutã€‚</li>
<li>æ§åˆ¶é—­ç¯ï¼šDevflow Controller åŒæ—¶ç›‘å¬ Application ä¸ Rollout çŠ¶æ€ï¼Œå›å†™ Mongo çš„ <code>steps</code> ä¸ <code>job status</code>ã€‚</li>
<li>Blue/Green èŠ‚å¥ï¼šPreview éªŒè¯é€šè¿‡åå† Promote åˆ‡æµï¼Œå®Œæˆåè¿›å…¥ Completedã€‚</li>
</ul>
<hr>
<h2 id="-22-ç«¯åˆ°ç«¯æ­¥éª¤devflow-é©±åŠ¨">ğŸ§­ 2.2 ç«¯åˆ°ç«¯æ­¥éª¤ï¼ˆDevflow é©±åŠ¨ï¼‰<a class="anchor" href="#-22-%e7%ab%af%e5%88%b0%e7%ab%af%e6%ad%a5%e9%aa%a4devflow-%e9%a9%b1%e5%8a%a8">#</a></h2>
<ol>
<li>
<p><strong>Devflow åˆ›å»º Application æˆåŠŸ</strong></p>
<ul>
<li>Devflow Job åˆ›å»º Argo CD Application</li>
<li>Application è¿›å…¥ <code>Synced</code>ï¼ˆä¸ä¸€å®š <code>Healthy</code>ï¼‰</li>
</ul>
</li>
<li>
<p><strong>Argo CD åŒæ­¥å¹¶åˆ›å»º/æ›´æ–°èµ„æºæˆåŠŸ</strong></p>
<ul>
<li>Argo CD ç›‘å¬åˆ° Application å˜æ›´</li>
<li>ç”Ÿæˆ/æ›´æ–° Rolloutã€Serviceã€Ingress ç­‰èµ„æº</li>
</ul>
</li>
<li>
<p><strong>Rollout åˆ›å»ºæˆåŠŸå¹¶è¿›å…¥ Blue/Green</strong></p>
<ul>
<li>Devflow Controller ç›‘å¬ Rollout çŠ¶æ€</li>
<li>æŒç»­æ›´æ–° <code>steps</code> ä¸ <code>job status</code>ï¼š
<ul>
<li>Preview Ready â†’ Verifyï¼ˆæˆåŠŸï¼‰</li>
<li>Promote Switch â†’ Post Verifyï¼ˆæˆåŠŸï¼‰</li>
<li>Completed</li>
</ul>
</li>
<li>è‹¥æ–°ç‰ˆæœ¬ Pod å¯åŠ¨å¤±è´¥ï¼ˆå¦‚ NotReady / CrashLoopBackOffï¼‰ï¼Œå¯¹åº” Verify è¿›å…¥ <code>Failed</code> å¹¶è§¦å‘å›æ»š</li>
</ul>
</li>
</ol>
<blockquote class='book-hint '>
<p>è‹¥ä»»ä¸€æ­¥ Verify å¤±è´¥ï¼ŒController æ ‡è®°å¯¹åº”é˜¶æ®µå¤±è´¥å¹¶è§¦å‘å›æ»šæµç¨‹ï¼ˆæŒ‰ç­–ç•¥è‡ªåŠ¨æˆ–äººå·¥ä»‹å…¥ï¼‰ã€‚</p>
</blockquote><hr>
<h2 id="-23-bluegreen-steps--status-å¯¹ç…§è¡¨">ğŸ“‹ 2.3 Blue/Green Steps / Status å¯¹ç…§è¡¨<a class="anchor" href="#-23-bluegreen-steps--status-%e5%af%b9%e7%85%a7%e8%a1%a8">#</a></h2>
<table>
  <thead>
      <tr>
          <th>Step</th>
          <th>çŠ¶æ€ï¼ˆStatusï¼‰</th>
          <th>è§¦å‘äº‹ä»¶ / è¯´æ˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Applied</td>
          <td>Running â†’ Succeeded/Failed</td>
          <td>Application åˆ›å»ºå¹¶ Sync æˆåŠŸ</td>
      </tr>
      <tr>
          <td>Preview Ready</td>
          <td>Running â†’ Succeeded</td>
          <td>é¢„è§ˆç¯å¢ƒå°±ç»ªï¼ˆPod Readyï¼‰</td>
      </tr>
      <tr>
          <td>Verify</td>
          <td>Running â†’ Succeeded / Failed</td>
          <td>æŒ‡æ ‡é€šè¿‡æˆ– Pod å¯åŠ¨æ­£å¸¸ / Pod NotReady æˆ– CrashLoopBackOff</td>
      </tr>
      <tr>
          <td>Promote Switch</td>
          <td>Running â†’ Succeeded</td>
          <td>activeService åˆ‡æµåˆ°æ–°ç‰ˆæœ¬</td>
      </tr>
      <tr>
          <td>Post Verify</td>
          <td>Running â†’ Succeeded / Failed</td>
          <td>åˆ‡æµåéªŒè¯é€šè¿‡ / å¤±è´¥</td>
      </tr>
      <tr>
          <td>Completed</td>
          <td>Succeeded</td>
          <td>å‘å¸ƒå®Œæˆ</td>
      </tr>
      <tr>
          <td>Failed</td>
          <td>Failed</td>
          <td>ä»»ä¸€é˜¶æ®µ Verify å¤±è´¥è§¦å‘å›æ»š</td>
      </tr>
      <tr>
          <td>Rollback to Stable</td>
          <td>Succeeded</td>
          <td>å›æ»šè‡³ç¨³å®šç‰ˆæœ¬</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-3-rollout-é…ç½®ç¤ºä¾‹">ğŸ§¾ 3. Rollout é…ç½®ç¤ºä¾‹<a class="anchor" href="#-3-rollout-%e9%85%8d%e7%bd%ae%e7%a4%ba%e4%be%8b">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">argoproj.io/v1alpha1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Rollout</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">my-app</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">namespace</span>: <span style="color:#ae81ff">production</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">replicas</span>: <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">strategy</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">blueGreen</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">activeService</span>: <span style="color:#ae81ff">my-app-active</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">previewService</span>: <span style="color:#ae81ff">my-app-preview</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">autoPromotionEnabled</span>: <span style="color:#66d9ef">false</span> <span style="color:#75715e"># æ‰‹åŠ¨åˆ‡æ¢æµé‡</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">selector</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">matchLabels</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">app</span>: <span style="color:#ae81ff">my-app</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">template</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">labels</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">app</span>: <span style="color:#ae81ff">my-app</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">spec</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">containers</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">my-app</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">image</span>: <span style="color:#ae81ff">registry.example.com/my-app:v2</span></span></span></code></pre></div><h2 id="-æ­¥éª¤">ğŸš¦ æ­¥éª¤<a class="anchor" href="#-%e6%ad%a5%e9%aa%a4">#</a></h2>
<h4 id="1-æ¦‚è¿°">1. æ¦‚è¿°<a class="anchor" href="#1-%e6%a6%82%e8%bf%b0">#</a></h4>
<p>Blue/Green å‘å¸ƒæ˜¯ä¸€ç§é€šè¿‡åŒæ—¶è¿è¡Œä¸¤å¥—ç‰ˆæœ¬ï¼ˆBlue ä¸ºå½“å‰ç¨³å®šç‰ˆæœ¬ï¼ŒGreen ä¸ºæ–°ç‰ˆæœ¬ï¼‰ï¼Œ
å¹¶é€šè¿‡ <strong>Service åŸå­åˆ‡æ¢</strong>å®Œæˆå‘å¸ƒçš„ç­–ç•¥ã€‚</p>
<p>åœ¨ Argo Rollouts ä¸­ï¼ŒBlue/Green å‘å¸ƒä¾èµ–ä»¥ä¸‹æ ¸å¿ƒå¯¹è±¡ï¼š</p>
<ul>
<li>Rollout</li>
<li>ReplicaSet</li>
<li>activeService</li>
<li>previewService</li>
<li>Analysisï¼ˆå¯é€‰ï¼‰</li>
</ul>
<hr>
<h4 id="2-æ ¸å¿ƒå¯¹è±¡è¯´æ˜">2. æ ¸å¿ƒå¯¹è±¡è¯´æ˜<a class="anchor" href="#2-%e6%a0%b8%e5%bf%83%e5%af%b9%e8%b1%a1%e8%af%b4%e6%98%8e">#</a></h4>
<h5 id="21-activeservice">2.1 activeService<a class="anchor" href="#21-activeservice">#</a></h5>
<ul>
<li>å¯¹å¤–æä¾›æ­£å¼ç”Ÿäº§æµé‡</li>
<li>å§‹ç»ˆæŒ‡å‘å½“å‰ç¨³å®šç‰ˆæœ¬çš„ ReplicaSet</li>
</ul>
<h5 id="22-previewservice">2.2 previewService<a class="anchor" href="#22-previewservice">#</a></h5>
<ul>
<li>ç”¨äºæ–°ç‰ˆæœ¬éªŒè¯</li>
<li>åªæ¥æ”¶æµ‹è¯•æˆ–é¢„è§ˆæµé‡</li>
</ul>
<h5 id="23-replicaset">2.3 ReplicaSet<a class="anchor" href="#23-replicaset">#</a></h5>
<ul>
<li>æ¯ä¸€æ¬¡ Pod Template å˜æ›´éƒ½ä¼šç”Ÿæˆæ–°çš„ ReplicaSet</li>
<li>ç”¨äºå®ç°ç‰ˆæœ¬éš”ç¦»</li>
</ul>
<hr>
<h4 id="3-å‘å¸ƒå‰çŠ¶æ€steady-state">3. å‘å¸ƒå‰çŠ¶æ€ï¼ˆSteady Stateï¼‰<a class="anchor" href="#3-%e5%8f%91%e5%b8%83%e5%89%8d%e7%8a%b6%e6%80%81steady-state">#</a></h4>
<ul>
<li>Rollout å¤„äº Fully Promoted çŠ¶æ€</li>
<li>å½“å‰ç¨³å®šç‰ˆæœ¬ä¸º Revision 1</li>
<li>activeService å’Œ previewService å‡æŒ‡å‘ Revision 1</li>
<li>æ— å‘å¸ƒè¿›è¡Œä¸­</li>
</ul>
<hr>
<h4 id="4-bluegreen-å‘å¸ƒæ­¥éª¤">4. Blue/Green å‘å¸ƒæ­¥éª¤<a class="anchor" href="#4-bluegreen-%e5%8f%91%e5%b8%83%e6%ad%a5%e9%aa%a4">#</a></h4>
<h5 id="step-1è§¦å‘æ›´æ–°">Step 1ï¼šè§¦å‘æ›´æ–°<a class="anchor" href="#step-1%e8%a7%a6%e5%8f%91%e6%9b%b4%e6%96%b0">#</a></h5>
<ul>
<li>ç”¨æˆ·ä¿®æ”¹ <code>spec.template</code></li>
<li>Argo Rollouts æ£€æµ‹åˆ°å˜æ›´</li>
<li>åˆ›å»ºæ–°çš„ ReplicaSetï¼ˆRevision 2ï¼‰</li>
<li>åˆå§‹å‰¯æœ¬æ•°ä¸º 0</li>
</ul>
<hr>
<h5 id="step-2åˆ‡æ¢-preview-service">Step 2ï¼šåˆ‡æ¢ Preview Service<a class="anchor" href="#step-2%e5%88%87%e6%8d%a2-preview-service">#</a></h5>
<ul>
<li>previewService çš„ selector æ›´æ–°</li>
<li>previewService æŒ‡å‘ Revision 2</li>
<li>activeService ä»æŒ‡å‘ Revision 1</li>
</ul>
<hr>
<h5 id="step-3æ‰©å®¹-green-å‰¯æœ¬">Step 3ï¼šæ‰©å®¹ Green å‰¯æœ¬<a class="anchor" href="#step-3%e6%89%a9%e5%ae%b9-green-%e5%89%af%e6%9c%ac">#</a></h5>
<ul>
<li>Revision 2 ReplicaSet è¢«æ‰©å®¹</li>
<li>å‰¯æœ¬æ•°ä¸ºï¼š
<ul>
<li><code>spec.replicas</code>ï¼Œæˆ–</li>
<li><code>previewReplicaCount</code>ï¼ˆå¦‚é…ç½®ï¼‰</li>
</ul>
</li>
<li>ç­‰å¾… Pod Ready</li>
</ul>
<hr>
<h5 id="step-4pre-promotion-analysiså¯é€‰">Step 4ï¼šPre-Promotion Analysisï¼ˆå¯é€‰ï¼‰<a class="anchor" href="#step-4pre-promotion-analysis%e5%8f%af%e9%80%89">#</a></h5>
<ul>
<li>å½“ Revision 2 Pod Ready åè§¦å‘</li>
<li>å¸¸ç”¨äºæ ¡éªŒï¼š
<ul>
<li>æˆåŠŸç‡</li>
<li>å»¶è¿Ÿ</li>
<li>é”™è¯¯ç‡</li>
<li>ä¸šåŠ¡æŒ‡æ ‡</li>
</ul>
</li>
</ul>
<hr>
<h5 id="step-5å‘å¸ƒæš‚åœå¯é€‰">Step 5ï¼šå‘å¸ƒæš‚åœï¼ˆå¯é€‰ï¼‰<a class="anchor" href="#step-5%e5%8f%91%e5%b8%83%e6%9a%82%e5%81%9c%e5%8f%af%e9%80%89">#</a></h5>
<p>æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€æ—¶ï¼ŒRollout ä¼šæš‚åœï¼š</p>
<ul>
<li><code>autoPromotionEnabled: false</code></li>
<li>é…ç½®äº† <code>autoPromotionSeconds</code></li>
</ul>
<p>æ¢å¤æ–¹å¼ï¼š</p>
<ul>
<li>äººå·¥ Resume</li>
<li>æˆ–è¶…æ—¶è‡ªåŠ¨ç»§ç»­</li>
</ul>
<hr>
<h5 id="step-6æ­£å¼å‘å¸ƒpromotion">Step 6ï¼šæ­£å¼å‘å¸ƒï¼ˆPromotionï¼‰<a class="anchor" href="#step-6%e6%ad%a3%e5%bc%8f%e5%8f%91%e5%b8%83promotion">#</a></h5>
<ul>
<li>activeService selector æ›´æ–°</li>
<li>activeService ä» Revision 1 åˆ‡æ¢åˆ° Revision 2</li>
<li>æ‰€æœ‰ç”Ÿäº§æµé‡åˆ‡åˆ°æ–°ç‰ˆæœ¬</li>
</ul>
<hr>
<h5 id="step-7post-promotion-analysiså¯é€‰">Step 7ï¼šPost-Promotion Analysisï¼ˆå¯é€‰ï¼‰<a class="anchor" href="#step-7post-promotion-analysis%e5%8f%af%e9%80%89">#</a></h5>
<ul>
<li>åˆ‡æµå®Œæˆåæ‰§è¡Œ</li>
<li>ç”¨äºéªŒè¯çœŸå®ç”Ÿäº§æµé‡ä¸‹çš„ç¨³å®šæ€§</li>
</ul>
<hr>
<h5 id="step-8å‘å¸ƒå®Œæˆ">Step 8ï¼šå‘å¸ƒå®Œæˆ<a class="anchor" href="#step-8%e5%8f%91%e5%b8%83%e5%ae%8c%e6%88%90">#</a></h5>
<ul>
<li>Revision 2 è¢«æ ‡è®°ä¸º Stable</li>
<li>Rollout çŠ¶æ€å˜ä¸º Healthy</li>
<li>å‘å¸ƒæµç¨‹ç»“æŸ</li>
</ul>
<hr>
<h5 id="step-9æ—§ç‰ˆæœ¬ç¼©å®¹">Step 9ï¼šæ—§ç‰ˆæœ¬ç¼©å®¹<a class="anchor" href="#step-9%e6%97%a7%e7%89%88%e6%9c%ac%e7%bc%a9%e5%ae%b9">#</a></h5>
<ul>
<li>ç­‰å¾… <code>scaleDownDelaySeconds</code>ï¼ˆé»˜è®¤ 30 ç§’ï¼‰</li>
<li>Revision 1 ReplicaSet è¢«ç¼©å®¹è‡³ 0</li>
</ul>
<hr>
<h4 id="5-å›æ»šæœºåˆ¶">5. å›æ»šæœºåˆ¶<a class="anchor" href="#5-%e5%9b%9e%e6%bb%9a%e6%9c%ba%e5%88%b6">#</a></h4>
<h5 id="51-äººå·¥å›æ»š">5.1 äººå·¥å›æ»š<a class="anchor" href="#51-%e4%ba%ba%e5%b7%a5%e5%9b%9e%e6%bb%9a">#</a></h5>
<ul>
<li>ä¿®æ”¹ Rollout é•œåƒç‰ˆæœ¬</li>
<li>æˆ–å°† activeService æŒ‡å›æ—§ ReplicaSet</li>
</ul>
<h5 id="52-è‡ªåŠ¨å›æ»š">5.2 è‡ªåŠ¨å›æ»š<a class="anchor" href="#52-%e8%87%aa%e5%8a%a8%e5%9b%9e%e6%bb%9a">#</a></h5>
<ul>
<li>Analysis å¤±è´¥</li>
<li>Rollout ä¸­æ­¢å‘å¸ƒ</li>
<li>activeService ä¿æŒæŒ‡å‘æ—§ç‰ˆæœ¬</li>
</ul>
<hr>
<h4 id="6-å…³é”®é…ç½®å‚æ•°">6. å…³é”®é…ç½®å‚æ•°<a class="anchor" href="#6-%e5%85%b3%e9%94%ae%e9%85%8d%e7%bd%ae%e5%8f%82%e6%95%b0">#</a></h4>
<table>
  <thead>
      <tr>
          <th>å‚æ•°</th>
          <th>è¯´æ˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>activeService</td>
          <td>æ­£å¼æµé‡ Service</td>
      </tr>
      <tr>
          <td>previewService</td>
          <td>é¢„è§ˆæµé‡ Service</td>
      </tr>
      <tr>
          <td>previewReplicaCount</td>
          <td>é¢„è§ˆå‰¯æœ¬æ•°</td>
      </tr>
      <tr>
          <td>autoPromotionEnabled</td>
          <td>æ˜¯å¦è‡ªåŠ¨åˆ‡æµ</td>
      </tr>
      <tr>
          <td>autoPromotionSeconds</td>
          <td>å»¶è¿Ÿè‡ªåŠ¨åˆ‡æµ</td>
      </tr>
      <tr>
          <td>scaleDownDelaySeconds</td>
          <td>æ—§ç‰ˆæœ¬ä¿ç•™æ—¶é—´</td>
      </tr>
      <tr>
          <td>prePromotionAnalysis</td>
          <td>åˆ‡æµå‰åˆ†æ</td>
      </tr>
      <tr>
          <td>postPromotionAnalysis</td>
          <td>åˆ‡æµååˆ†æ</td>
      </tr>
  </tbody>
</table>
<hr>
<h4 id="7-bluegreen-ç‰¹ç‚¹">7. Blue/Green ç‰¹ç‚¹<a class="anchor" href="#7-bluegreen-%e7%89%b9%e7%82%b9">#</a></h4>
<h5 id="ä¼˜ç‚¹">ä¼˜ç‚¹<a class="anchor" href="#%e4%bc%98%e7%82%b9">#</a></h5>
<ul>
<li>Service åŸå­åˆ‡æ¢</li>
<li>å›æ»šé€Ÿåº¦æå¿«</li>
<li>æ–°æ—§ç‰ˆæœ¬å®Œå…¨éš”ç¦»</li>
<li>å‘å¸ƒæµç¨‹æ¸…æ™°</li>
</ul>
<h5 id="ç¼ºç‚¹">ç¼ºç‚¹<a class="anchor" href="#%e7%bc%ba%e7%82%b9">#</a></h5>
<ul>
<li>å‘å¸ƒæœŸé—´èµ„æºå ç”¨ç¿»å€</li>
<li>ä¸æ”¯æŒæ¸è¿›å¼æµé‡éªŒè¯</li>
</ul>
<hr>
<h4 id="8-é€‚ç”¨åœºæ™¯">8. é€‚ç”¨åœºæ™¯<a class="anchor" href="#8-%e9%80%82%e7%94%a8%e5%9c%ba%e6%99%af">#</a></h4>
<ul>
<li>æ ¸å¿ƒä¸šåŠ¡ç³»ç»Ÿ</li>
<li>å¯¹å›æ»šæ—¶é—´è¦æ±‚æé«˜çš„ç³»ç»Ÿ</li>
<li>ä¸é€‚åˆåšæµé‡æ¯”ä¾‹æ§åˆ¶çš„åœºæ™¯</li>
</ul>
<hr>
<h4 id="9-æ€»ç»“">9. æ€»ç»“<a class="anchor" href="#9-%e6%80%bb%e7%bb%93">#</a></h4>
<p>Argo Rollouts çš„ Blue/Green å‘å¸ƒæœ¬è´¨æ˜¯ï¼š</p>
<ul>
<li>ä½¿ç”¨ ReplicaSet å®ç°ç‰ˆæœ¬éš”ç¦»</li>
<li>ä½¿ç”¨ Service selector å®ç°åŸå­åˆ‡æµ</li>
<li>ä½¿ç”¨ Analysis å®ç°å‘å¸ƒè´¨é‡æ§åˆ¶</li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

<div>

</div>

<div>

</div>

</div>





  
  
  
  <div class="flex flex-wrap justify-between">
    <span>
    
      <a href="/docs/cd/standard/" class="flex align-center">
        <img src="/icons/backward.svg" class="book-icon" alt="Backward" />
        <span>Standard</span>
      </a>
    
    </span>
    <span>
    
      <a href="/docs/cd/canary/" class="flex align-center">
        <span>Canary</span>
        <img src="/icons/forward.svg" class="book-icon" alt="Forward" />
      </a>
    
    </span>
  </div>
  


 
        
  
 
        
        
  
 
        
  
  
    <script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script>
  

      </footer>

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  
 
  </main>

  
</body>
</html>




















