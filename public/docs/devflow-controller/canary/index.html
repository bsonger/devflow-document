<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="ğŸ”„ Devflow Controller ç›‘å¬ CD ä¸çŠ¶æ€å›å†™æµç¨‹# Devflow Controller çš„æ ¸å¿ƒèŒè´£æ˜¯ ç›‘å¬ Argo CD Application ä¸ Argo Rollouts Rollout çš„çŠ¶æ€å˜åŒ–ï¼Œå¹¶å°†å‘å¸ƒè¿›åº¦ä¸ç»“æœå›å†™åˆ° Mongoï¼ˆsteps ä¸ job statusï¼‰ï¼Œå½¢æˆé—­ç¯å¯è§‚æµ‹çš„å‘å¸ƒæµæ°´çº¿ã€‚
ğŸ§© 1. ç›‘å¬å¯¹è±¡# Argo CD Application ç”¨äºç¡®è®¤é…ç½®æ˜¯å¦å·²ä¸‹å‘ï¼ˆåŒæ­¥çŠ¶æ€ï¼‰ ç”¨äºç¡®è®¤åº”ç”¨å¥åº·çŠ¶æ€ï¼ˆå¥åº·åº¦ï¼‰ Argo Rollouts Rollout ç”¨äºè·Ÿè¸ªç°åº¦é˜¶æ®µã€æµé‡æƒé‡ä¸æš‚åœ/æ ¡éªŒ ç”¨äºåˆ¤æ–­å‘å¸ƒæ˜¯å¦æˆåŠŸã€å¤±è´¥æˆ–å›æ»š ğŸ§¾ 2. å›å†™æ•°æ®ç»“æ„ï¼ˆMongoï¼‰# stepsï¼šè®°å½•æ¯ä¸ªç°åº¦é˜¶æ®µçš„æ‰§è¡Œè¿›åº¦ä¸æ ¡éªŒç»“æœ ä¾‹å¦‚ï¼šApplied / 10% / Verify / 30% / Verify / 50% / Verify / 100% job statusï¼šè®°å½•æ•´ä¸ªå‘å¸ƒä»»åŠ¡çš„å…¨å±€çŠ¶æ€ ä¾‹å¦‚ï¼šRunning / Succeeded / Failed ğŸ—ºï¸ 3. å…¸å‹ç›‘å¬ä¸å›å†™æµç¨‹ï¼ˆCanaryï¼‰# åˆ›å»ºå‘å¸ƒä»»åŠ¡ Devflow Console è§¦å‘ Job ç”Ÿæˆ Argo CD Application Controller ç›‘å¬åˆ° Application å·²åŒæ­¥ â†’ steps=Applied ä¸‹å‘ Rollout Rollout èµ„æºåˆ›å»º Controller ç›‘å¬ Rollout è¿›å…¥å‘å¸ƒé˜¶æ®µ â†’ job status=Running æŒ‰é˜¶æ®µæ¨è¿› 10% â†’ Verify â†’ 30% â†’ Verify â†’ 50% â†’ Verify â†’ 100% Controller åœ¨æ¯ä¸ªé˜¶æ®µæ›´æ–° stepsï¼š è¿›å…¥é˜¶æ®µï¼šæ ‡è®°ä¸º Running éªŒè¯é€šè¿‡ï¼šæ ‡è®°ä¸º Succeeded éªŒè¯å¤±è´¥ï¼šæ ‡è®°ä¸º Failedï¼Œå¹¶æ›´æ–° job status=Failed å‘å¸ƒå®Œæˆ Rollout è¿›å…¥å®ŒæˆçŠ¶æ€ Controller æ›´æ–° steps=100%ï¼Œå¹¶è®¾ç½® job status=Succeeded ğŸ§­ 4. çŠ¶æ€æ˜ å°„å»ºè®®ï¼ˆç®€åŒ–ç‰ˆï¼‰# ç›‘å¬å¯¹è±¡ å…³é”®çŠ¶æ€ steps æ›´æ–° job status æ›´æ–° Application Synced / Healthy Applied Running Rollout Progressing / Paused å¯¹åº”é˜¶æ®µ Running Running Rollout Analysis æˆåŠŸ å¯¹åº” Verify Succeeded Running Rollout Degraded / Analysis å¤±è´¥ å¯¹åº” Verify Failed Failed Rollout Completed 100% Succeeded Succeeded ğŸ” 5. å¼‚å¸¸ä¸å›æ»š# å¦‚æœ Rollout è¿›å…¥ Degraded æˆ– Analysis å¤±è´¥ï¼š Controller ç«‹å³å›å†™ steps=Failed æ›´æ–° job status=Failed Rollout ä¾§å¯è‡ªåŠ¨å›æ»šï¼ˆç”±ç­–ç•¥æˆ–äººå·¥å†³å®šï¼‰ âœ… 6. å…³é”®ç‚¹æ€»ç»“# ğŸ“¥ğŸ“¤ 7. è¾“å…¥ / è¾“å‡ºï¼ˆç®€è¦ï¼‰# è¾“å…¥ï¼šArgo CD Applicationã€Argo Rollouts Rolloutã€æŒ‡æ ‡ä¸ Analysis ç»“æœ
è¾“å‡ºï¼šMongo stepsã€job statusã€å‘å¸ƒè¿›åº¦ä¸ç»“æœå›å†™
">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/docs/devflow-controller/canary/">
  <meta property="og:site_name" content="Devflow">
  <meta property="og:title" content="Devflow">
  <meta property="og:description" content="ğŸ”„ Devflow Controller ç›‘å¬ CD ä¸çŠ¶æ€å›å†™æµç¨‹# Devflow Controller çš„æ ¸å¿ƒèŒè´£æ˜¯ ç›‘å¬ Argo CD Application ä¸ Argo Rollouts Rollout çš„çŠ¶æ€å˜åŒ–ï¼Œå¹¶å°†å‘å¸ƒè¿›åº¦ä¸ç»“æœå›å†™åˆ° Mongoï¼ˆsteps ä¸ job statusï¼‰ï¼Œå½¢æˆé—­ç¯å¯è§‚æµ‹çš„å‘å¸ƒæµæ°´çº¿ã€‚
ğŸ§© 1. ç›‘å¬å¯¹è±¡# Argo CD Application ç”¨äºç¡®è®¤é…ç½®æ˜¯å¦å·²ä¸‹å‘ï¼ˆåŒæ­¥çŠ¶æ€ï¼‰ ç”¨äºç¡®è®¤åº”ç”¨å¥åº·çŠ¶æ€ï¼ˆå¥åº·åº¦ï¼‰ Argo Rollouts Rollout ç”¨äºè·Ÿè¸ªç°åº¦é˜¶æ®µã€æµé‡æƒé‡ä¸æš‚åœ/æ ¡éªŒ ç”¨äºåˆ¤æ–­å‘å¸ƒæ˜¯å¦æˆåŠŸã€å¤±è´¥æˆ–å›æ»š ğŸ§¾ 2. å›å†™æ•°æ®ç»“æ„ï¼ˆMongoï¼‰# stepsï¼šè®°å½•æ¯ä¸ªç°åº¦é˜¶æ®µçš„æ‰§è¡Œè¿›åº¦ä¸æ ¡éªŒç»“æœ ä¾‹å¦‚ï¼šApplied / 10% / Verify / 30% / Verify / 50% / Verify / 100% job statusï¼šè®°å½•æ•´ä¸ªå‘å¸ƒä»»åŠ¡çš„å…¨å±€çŠ¶æ€ ä¾‹å¦‚ï¼šRunning / Succeeded / Failed ğŸ—ºï¸ 3. å…¸å‹ç›‘å¬ä¸å›å†™æµç¨‹ï¼ˆCanaryï¼‰# åˆ›å»ºå‘å¸ƒä»»åŠ¡ Devflow Console è§¦å‘ Job ç”Ÿæˆ Argo CD Application Controller ç›‘å¬åˆ° Application å·²åŒæ­¥ â†’ steps=Applied ä¸‹å‘ Rollout Rollout èµ„æºåˆ›å»º Controller ç›‘å¬ Rollout è¿›å…¥å‘å¸ƒé˜¶æ®µ â†’ job status=Running æŒ‰é˜¶æ®µæ¨è¿› 10% â†’ Verify â†’ 30% â†’ Verify â†’ 50% â†’ Verify â†’ 100% Controller åœ¨æ¯ä¸ªé˜¶æ®µæ›´æ–° stepsï¼š è¿›å…¥é˜¶æ®µï¼šæ ‡è®°ä¸º Running éªŒè¯é€šè¿‡ï¼šæ ‡è®°ä¸º Succeeded éªŒè¯å¤±è´¥ï¼šæ ‡è®°ä¸º Failedï¼Œå¹¶æ›´æ–° job status=Failed å‘å¸ƒå®Œæˆ Rollout è¿›å…¥å®ŒæˆçŠ¶æ€ Controller æ›´æ–° steps=100%ï¼Œå¹¶è®¾ç½® job status=Succeeded ğŸ§­ 4. çŠ¶æ€æ˜ å°„å»ºè®®ï¼ˆç®€åŒ–ç‰ˆï¼‰# ç›‘å¬å¯¹è±¡ å…³é”®çŠ¶æ€ steps æ›´æ–° job status æ›´æ–° Application Synced / Healthy Applied Running Rollout Progressing / Paused å¯¹åº”é˜¶æ®µ Running Running Rollout Analysis æˆåŠŸ å¯¹åº” Verify Succeeded Running Rollout Degraded / Analysis å¤±è´¥ å¯¹åº” Verify Failed Failed Rollout Completed 100% Succeeded Succeeded ğŸ” 5. å¼‚å¸¸ä¸å›æ»š# å¦‚æœ Rollout è¿›å…¥ Degraded æˆ– Analysis å¤±è´¥ï¼š Controller ç«‹å³å›å†™ steps=Failed æ›´æ–° job status=Failed Rollout ä¾§å¯è‡ªåŠ¨å›æ»šï¼ˆç”±ç­–ç•¥æˆ–äººå·¥å†³å®šï¼‰ âœ… 6. å…³é”®ç‚¹æ€»ç»“# ğŸ“¥ğŸ“¤ 7. è¾“å…¥ / è¾“å‡ºï¼ˆç®€è¦ï¼‰# è¾“å…¥ï¼šArgo CD Applicationã€Argo Rollouts Rolloutã€æŒ‡æ ‡ä¸ Analysis ç»“æœ
è¾“å‡ºï¼šMongo stepsã€job statusã€å‘å¸ƒè¿›åº¦ä¸ç»“æœå›å†™">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">


  <meta itemprop="name" content="Devflow">
  <meta itemprop="description" content="ğŸ”„ Devflow Controller ç›‘å¬ CD ä¸çŠ¶æ€å›å†™æµç¨‹# Devflow Controller çš„æ ¸å¿ƒèŒè´£æ˜¯ ç›‘å¬ Argo CD Application ä¸ Argo Rollouts Rollout çš„çŠ¶æ€å˜åŒ–ï¼Œå¹¶å°†å‘å¸ƒè¿›åº¦ä¸ç»“æœå›å†™åˆ° Mongoï¼ˆsteps ä¸ job statusï¼‰ï¼Œå½¢æˆé—­ç¯å¯è§‚æµ‹çš„å‘å¸ƒæµæ°´çº¿ã€‚
ğŸ§© 1. ç›‘å¬å¯¹è±¡# Argo CD Application ç”¨äºç¡®è®¤é…ç½®æ˜¯å¦å·²ä¸‹å‘ï¼ˆåŒæ­¥çŠ¶æ€ï¼‰ ç”¨äºç¡®è®¤åº”ç”¨å¥åº·çŠ¶æ€ï¼ˆå¥åº·åº¦ï¼‰ Argo Rollouts Rollout ç”¨äºè·Ÿè¸ªç°åº¦é˜¶æ®µã€æµé‡æƒé‡ä¸æš‚åœ/æ ¡éªŒ ç”¨äºåˆ¤æ–­å‘å¸ƒæ˜¯å¦æˆåŠŸã€å¤±è´¥æˆ–å›æ»š ğŸ§¾ 2. å›å†™æ•°æ®ç»“æ„ï¼ˆMongoï¼‰# stepsï¼šè®°å½•æ¯ä¸ªç°åº¦é˜¶æ®µçš„æ‰§è¡Œè¿›åº¦ä¸æ ¡éªŒç»“æœ ä¾‹å¦‚ï¼šApplied / 10% / Verify / 30% / Verify / 50% / Verify / 100% job statusï¼šè®°å½•æ•´ä¸ªå‘å¸ƒä»»åŠ¡çš„å…¨å±€çŠ¶æ€ ä¾‹å¦‚ï¼šRunning / Succeeded / Failed ğŸ—ºï¸ 3. å…¸å‹ç›‘å¬ä¸å›å†™æµç¨‹ï¼ˆCanaryï¼‰# åˆ›å»ºå‘å¸ƒä»»åŠ¡ Devflow Console è§¦å‘ Job ç”Ÿæˆ Argo CD Application Controller ç›‘å¬åˆ° Application å·²åŒæ­¥ â†’ steps=Applied ä¸‹å‘ Rollout Rollout èµ„æºåˆ›å»º Controller ç›‘å¬ Rollout è¿›å…¥å‘å¸ƒé˜¶æ®µ â†’ job status=Running æŒ‰é˜¶æ®µæ¨è¿› 10% â†’ Verify â†’ 30% â†’ Verify â†’ 50% â†’ Verify â†’ 100% Controller åœ¨æ¯ä¸ªé˜¶æ®µæ›´æ–° stepsï¼š è¿›å…¥é˜¶æ®µï¼šæ ‡è®°ä¸º Running éªŒè¯é€šè¿‡ï¼šæ ‡è®°ä¸º Succeeded éªŒè¯å¤±è´¥ï¼šæ ‡è®°ä¸º Failedï¼Œå¹¶æ›´æ–° job status=Failed å‘å¸ƒå®Œæˆ Rollout è¿›å…¥å®ŒæˆçŠ¶æ€ Controller æ›´æ–° steps=100%ï¼Œå¹¶è®¾ç½® job status=Succeeded ğŸ§­ 4. çŠ¶æ€æ˜ å°„å»ºè®®ï¼ˆç®€åŒ–ç‰ˆï¼‰# ç›‘å¬å¯¹è±¡ å…³é”®çŠ¶æ€ steps æ›´æ–° job status æ›´æ–° Application Synced / Healthy Applied Running Rollout Progressing / Paused å¯¹åº”é˜¶æ®µ Running Running Rollout Analysis æˆåŠŸ å¯¹åº” Verify Succeeded Running Rollout Degraded / Analysis å¤±è´¥ å¯¹åº” Verify Failed Failed Rollout Completed 100% Succeeded Succeeded ğŸ” 5. å¼‚å¸¸ä¸å›æ»š# å¦‚æœ Rollout è¿›å…¥ Degraded æˆ– Analysis å¤±è´¥ï¼š Controller ç«‹å³å›å†™ steps=Failed æ›´æ–° job status=Failed Rollout ä¾§å¯è‡ªåŠ¨å›æ»šï¼ˆç”±ç­–ç•¥æˆ–äººå·¥å†³å®šï¼‰ âœ… 6. å…³é”®ç‚¹æ€»ç»“# ğŸ“¥ğŸ“¤ 7. è¾“å…¥ / è¾“å‡ºï¼ˆç®€è¦ï¼‰# è¾“å…¥ï¼šArgo CD Applicationã€Argo Rollouts Rolloutã€æŒ‡æ ‡ä¸ Analysis ç»“æœ
è¾“å‡ºï¼šMongo stepsã€job statusã€å‘å¸ƒè¿›åº¦ä¸ç»“æœå›å†™">
  <meta itemprop="wordCount" content="221">

<title>Canary | Devflow</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="http://localhost:1313/docs/devflow-controller/canary/">
<link rel="stylesheet" href="/book.min.6970156cec683193d93c9c4edaf0d56574e4361df2e0c1be4f697ae81c3ba55f.css" integrity="sha256-aXAVbOxoMZPZPJxO2vDVZXTkNh3y4MG&#43;T2l66Bw7pV8=" crossorigin="anonymous">




  
</head>
<body dir="ltr" class="book-kind-page book-type-docs">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    
<aside class="book-menu">
  <div class="book-menu-content">
    
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Devflow</span>
  </a>
</h2>














  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4bd032e4e5fe1323a134583cafeecf06" class="toggle"  />
    <label for="section-4bd032e4e5fe1323a134583cafeecf06" class="flex">
      <a href="/docs/ci/" class="">
        CI</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/ci/queue/" class="">
      Queue</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ci/standard/" class="">
      Standard</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ci/architecture/" class="">
      CI Architecture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/ci/component/" class="">
      Components</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0fc280a0e74cc087db99dcd67aadd7bb" class="toggle"  />
    <label for="section-0fc280a0e74cc087db99dcd67aadd7bb" class="flex">
      <a href="/docs/cd/" class="">
        CD</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/cd/architecture/" class="">
      Architecture</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cd/component/" class="">
      Components</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cd/standard/" class="">
      Standard</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cd/blue_green/" class="">
      Blue-green</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cd/canary/" class="">
      Canary</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/cd/normal/" class="">
      Normal (Rolling)</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6884c320646745efe1e09831aa35ad5b" class="toggle"  />
    <label for="section-6884c320646745efe1e09831aa35ad5b" class="flex">
      <a href="/docs/observability/" class="">
        observability</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/observability/component/" class="">
      Component</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/observability/standard/" class="">
      Standard</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/observability/attributes/" class="">
      Attributes</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-97bc183e640cafe9ca9da46d45661ec8" class="toggle" checked />
    <label for="section-97bc183e640cafe9ca9da46d45661ec8" class="flex">
      <a href="/docs/devflow-controller/" class="">
        devflow-controller</a>
      <img src="/icons/chevron-right.svg" class="book-icon" alt="Expand" />
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/devflow-controller/canary/" class="active">
      Canary</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/component/" class="">
      All Components</a>
  

        </li>
      
    
  </ul>













</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>



  </div>
</aside>
 

    <div class="book-page">
      <header class="book-header hidden">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/icons/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Canary</h3>

  <label for="toc-control">
    
  </label>
</div>


  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="-devflow-controller-ç›‘å¬-cd-ä¸çŠ¶æ€å›å†™æµç¨‹">ğŸ”„ Devflow Controller ç›‘å¬ CD ä¸çŠ¶æ€å›å†™æµç¨‹<a class="anchor" href="#-devflow-controller-%e7%9b%91%e5%90%ac-cd-%e4%b8%8e%e7%8a%b6%e6%80%81%e5%9b%9e%e5%86%99%e6%b5%81%e7%a8%8b">#</a></h1>
<p>Devflow Controller çš„æ ¸å¿ƒèŒè´£æ˜¯ <strong>ç›‘å¬ Argo CD Application ä¸ Argo Rollouts Rollout çš„çŠ¶æ€å˜åŒ–</strong>ï¼Œå¹¶å°†å‘å¸ƒè¿›åº¦ä¸ç»“æœå›å†™åˆ° Mongoï¼ˆ<code>steps</code> ä¸ <code>job status</code>ï¼‰ï¼Œå½¢æˆé—­ç¯å¯è§‚æµ‹çš„å‘å¸ƒæµæ°´çº¿ã€‚</p>
<hr>
<h2 id="-1-ç›‘å¬å¯¹è±¡">ğŸ§© 1. ç›‘å¬å¯¹è±¡<a class="anchor" href="#-1-%e7%9b%91%e5%90%ac%e5%af%b9%e8%b1%a1">#</a></h2>
<ol>
<li><strong>Argo CD Application</strong>
<ul>
<li>ç”¨äºç¡®è®¤é…ç½®æ˜¯å¦å·²ä¸‹å‘ï¼ˆåŒæ­¥çŠ¶æ€ï¼‰</li>
<li>ç”¨äºç¡®è®¤åº”ç”¨å¥åº·çŠ¶æ€ï¼ˆå¥åº·åº¦ï¼‰</li>
</ul>
</li>
<li><strong>Argo Rollouts Rollout</strong>
<ul>
<li>ç”¨äºè·Ÿè¸ªç°åº¦é˜¶æ®µã€æµé‡æƒé‡ä¸æš‚åœ/æ ¡éªŒ</li>
<li>ç”¨äºåˆ¤æ–­å‘å¸ƒæ˜¯å¦æˆåŠŸã€å¤±è´¥æˆ–å›æ»š</li>
</ul>
</li>
</ol>
<hr>
<h2 id="-2-å›å†™æ•°æ®ç»“æ„mongo">ğŸ§¾ 2. å›å†™æ•°æ®ç»“æ„ï¼ˆMongoï¼‰<a class="anchor" href="#-2-%e5%9b%9e%e5%86%99%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84mongo">#</a></h2>
<ul>
<li><strong>steps</strong>ï¼šè®°å½•æ¯ä¸ªç°åº¦é˜¶æ®µçš„æ‰§è¡Œè¿›åº¦ä¸æ ¡éªŒç»“æœ
<ul>
<li>ä¾‹å¦‚ï¼šApplied / 10% / Verify / 30% / Verify / 50% / Verify / 100%</li>
</ul>
</li>
<li><strong>job status</strong>ï¼šè®°å½•æ•´ä¸ªå‘å¸ƒä»»åŠ¡çš„å…¨å±€çŠ¶æ€
<ul>
<li>ä¾‹å¦‚ï¼šRunning / Succeeded / Failed</li>
</ul>
</li>
</ul>
<hr>
<h2 id="-3-å…¸å‹ç›‘å¬ä¸å›å†™æµç¨‹canary">ğŸ—ºï¸ 3. å…¸å‹ç›‘å¬ä¸å›å†™æµç¨‹ï¼ˆCanaryï¼‰<a class="anchor" href="#-3-%e5%85%b8%e5%9e%8b%e7%9b%91%e5%90%ac%e4%b8%8e%e5%9b%9e%e5%86%99%e6%b5%81%e7%a8%8bcanary">#</a></h2>
<ol>
<li><strong>åˆ›å»ºå‘å¸ƒä»»åŠ¡</strong>
<ul>
<li>Devflow Console è§¦å‘ Job</li>
<li>ç”Ÿæˆ Argo CD Application</li>
<li>Controller ç›‘å¬åˆ° Application å·²åŒæ­¥ â†’ <code>steps=Applied</code></li>
</ul>
</li>
<li><strong>ä¸‹å‘ Rollout</strong>
<ul>
<li>Rollout èµ„æºåˆ›å»º</li>
<li>Controller ç›‘å¬ Rollout è¿›å…¥å‘å¸ƒé˜¶æ®µ â†’ <code>job status=Running</code></li>
</ul>
</li>
<li><strong>æŒ‰é˜¶æ®µæ¨è¿›</strong>
<ul>
<li>10% â†’ Verify â†’ 30% â†’ Verify â†’ 50% â†’ Verify â†’ 100%</li>
<li>Controller åœ¨æ¯ä¸ªé˜¶æ®µæ›´æ–° <code>steps</code>ï¼š
<ul>
<li>è¿›å…¥é˜¶æ®µï¼šæ ‡è®°ä¸º Running</li>
<li>éªŒè¯é€šè¿‡ï¼šæ ‡è®°ä¸º Succeeded</li>
<li>éªŒè¯å¤±è´¥ï¼šæ ‡è®°ä¸º Failedï¼Œå¹¶æ›´æ–° <code>job status=Failed</code></li>
</ul>
</li>
</ul>
</li>
<li><strong>å‘å¸ƒå®Œæˆ</strong>
<ul>
<li>Rollout è¿›å…¥å®ŒæˆçŠ¶æ€</li>
<li>Controller æ›´æ–° <code>steps=100%</code>ï¼Œå¹¶è®¾ç½® <code>job status=Succeeded</code></li>
</ul>
</li>
</ol>
<hr>
<h2 id="-4-çŠ¶æ€æ˜ å°„å»ºè®®ç®€åŒ–ç‰ˆ">ğŸ§­ 4. çŠ¶æ€æ˜ å°„å»ºè®®ï¼ˆç®€åŒ–ç‰ˆï¼‰<a class="anchor" href="#-4-%e7%8a%b6%e6%80%81%e6%98%a0%e5%b0%84%e5%bb%ba%e8%ae%ae%e7%ae%80%e5%8c%96%e7%89%88">#</a></h2>
<table>
  <thead>
      <tr>
          <th>ç›‘å¬å¯¹è±¡</th>
          <th>å…³é”®çŠ¶æ€</th>
          <th>steps æ›´æ–°</th>
          <th>job status æ›´æ–°</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Application</td>
          <td>Synced / Healthy</td>
          <td>Applied</td>
          <td>Running</td>
      </tr>
      <tr>
          <td>Rollout</td>
          <td>Progressing / Paused</td>
          <td>å¯¹åº”é˜¶æ®µ Running</td>
          <td>Running</td>
      </tr>
      <tr>
          <td>Rollout</td>
          <td>Analysis æˆåŠŸ</td>
          <td>å¯¹åº” Verify Succeeded</td>
          <td>Running</td>
      </tr>
      <tr>
          <td>Rollout</td>
          <td>Degraded / Analysis å¤±è´¥</td>
          <td>å¯¹åº” Verify Failed</td>
          <td>Failed</td>
      </tr>
      <tr>
          <td>Rollout</td>
          <td>Completed</td>
          <td>100% Succeeded</td>
          <td>Succeeded</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-5-å¼‚å¸¸ä¸å›æ»š">ğŸ” 5. å¼‚å¸¸ä¸å›æ»š<a class="anchor" href="#-5-%e5%bc%82%e5%b8%b8%e4%b8%8e%e5%9b%9e%e6%bb%9a">#</a></h2>
<ul>
<li>å¦‚æœ Rollout è¿›å…¥ <strong>Degraded</strong> æˆ– Analysis å¤±è´¥ï¼š
<ul>
<li>Controller ç«‹å³å›å†™ <code>steps=Failed</code></li>
<li>æ›´æ–° <code>job status=Failed</code></li>
<li>Rollout ä¾§å¯è‡ªåŠ¨å›æ»šï¼ˆç”±ç­–ç•¥æˆ–äººå·¥å†³å®šï¼‰</li>
</ul>
</li>
</ul>
<hr>
<h2 id="-6-å…³é”®ç‚¹æ€»ç»“">âœ… 6. å…³é”®ç‚¹æ€»ç»“<a class="anchor" href="#-6-%e5%85%b3%e9%94%ae%e7%82%b9%e6%80%bb%e7%bb%93">#</a></h2>
<h2 id="-7-è¾“å…¥--è¾“å‡ºç®€è¦">ğŸ“¥ğŸ“¤ 7. è¾“å…¥ / è¾“å‡ºï¼ˆç®€è¦ï¼‰<a class="anchor" href="#-7-%e8%be%93%e5%85%a5--%e8%be%93%e5%87%ba%e7%ae%80%e8%a6%81">#</a></h2>
<p><strong>è¾“å…¥</strong>ï¼šArgo CD Applicationã€Argo Rollouts Rolloutã€æŒ‡æ ‡ä¸ Analysis ç»“æœ<br>
<strong>è¾“å‡º</strong>ï¼šMongo <code>steps</code>ã€<code>job status</code>ã€å‘å¸ƒè¿›åº¦ä¸ç»“æœå›å†™</p>
<ul>
<li>Application ä¿è¯ <strong>é…ç½®å·²ä¸‹å‘</strong></li>
<li>Rollout ä½“ç° <strong>å‘å¸ƒè¿‡ç¨‹ä¸æµé‡è¿›åº¦</strong></li>
<li>Controller è´Ÿè´£ <strong>ç›‘å¬ + å½’ä¸€åŒ–çŠ¶æ€ + å›å†™ Mongo</strong></li>
<li><code>steps</code> ç²¾ç»†åŒ–è®°å½•é˜¶æ®µï¼›<code>job status</code> è¡¨ç¤ºå…¨å±€ç»“æœ</li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

<div>

</div>

<div>

</div>

</div>





  
  
  
  <div class="flex flex-wrap justify-between">
    <span>
    
      <a href="/docs/devflow-controller/" class="flex align-center">
        <img src="/icons/backward.svg" class="book-icon" alt="Backward" />
        <span>devflow-controller</span>
      </a>
    
    </span>
    <span>
    
      <a href="/docs/component/" class="flex align-center">
        <span>All Components</span>
        <img src="/icons/forward.svg" class="book-icon" alt="Forward" />
      </a>
    
    </span>
  </div>
  


 
        
  
 
        
        
  
 
        
  
  
    <script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script>
  

      </footer>

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  
 
  </main>

  
</body>
</html>




















